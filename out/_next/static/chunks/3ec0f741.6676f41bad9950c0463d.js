(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{G13b:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"Account",(function(){return Z})),r.d(t,"Authorized",(function(){return Zt})),r.d(t,"BPF_LOADER_DEPRECATED_PROGRAM_ID",(function(){return X})),r.d(t,"BPF_LOADER_PROGRAM_ID",(function(){return Gt})),r.d(t,"BpfLoader",(function(){return Ht})),r.d(t,"Connection",(function(){return Nt})),r.d(t,"LAMPORTS_PER_SOL",(function(){return gr})),r.d(t,"Loader",(function(){return Yt})),r.d(t,"Lockup",(function(){return Xt})),r.d(t,"MAX_SEED_LENGTH",(function(){return V})),r.d(t,"Message",(function(){return re})),r.d(t,"NONCE_ACCOUNT_LENGTH",(function(){return ke})),r.d(t,"NonceAccount",(function(){return me})),r.d(t,"PublicKey",(function(){return F})),r.d(t,"STAKE_CONFIG_ID",(function(){return Jt})),r.d(t,"STAKE_INSTRUCTION_LAYOUTS",(function(){return Qt})),r.d(t,"SYSTEM_INSTRUCTION_LAYOUTS",(function(){return Vt})),r.d(t,"SYSVAR_CLOCK_PUBKEY",(function(){return le})),r.d(t,"SYSVAR_INSTRUCTIONS_PUBKEY",(function(){return fe})),r.d(t,"SYSVAR_RENT_PUBKEY",(function(){return he})),r.d(t,"SYSVAR_REWARDS_PUBKEY",(function(){return de})),r.d(t,"SYSVAR_STAKE_HISTORY_PUBKEY",(function(){return be})),r.d(t,"Secp256k1Program",(function(){return ir})),r.d(t,"StakeAuthorizationLayout",(function(){return er})),r.d(t,"StakeInstruction",(function(){return $t})),r.d(t,"StakeProgram",(function(){return tr})),r.d(t,"SystemInstruction",(function(){return Mt})),r.d(t,"SystemProgram",(function(){return Ft})),r.d(t,"Transaction",(function(){return ce})),r.d(t,"TransactionInstruction",(function(){return oe})),r.d(t,"VALIDATOR_INFO_KEY",(function(){return ur})),r.d(t,"VOTE_PROGRAM_ID",(function(){return cr})),r.d(t,"ValidatorInfo",(function(){return or})),r.d(t,"VoteAccount",(function(){return pr})),r.d(t,"clusterApiUrl",(function(){return fr})),r.d(t,"sendAndConfirmRawTransaction",(function(){return hr})),r.d(t,"sendAndConfirmTransaction",(function(){return qt}));var n=r("Aou7"),a=r.n(n),i=r("VZCk"),u=r.n(i),s=r("OONL"),o=r.n(s),c=r("lRGZ"),l=r.n(c),p=r("VEFV"),h=r.n(p),d=r("DHw+"),b=r.n(d),f=r("OZ/i"),g=r.n(f),y=r("B3Rj"),k=r.n(y),m=r("9NtJ"),v=r("kB7U"),w=r("lJ4/"),S=r.n(w),x=r("5OyC"),I=r.n(x),_=r("7rlJ"),O=r.n(_),A=r("QmWs"),P=r("oY9k"),j=r.n(P),E=r("UCp1"),B=r.n(E),W=r("2SAM"),C=r("PxAc"),T=r("SpUU"),z=r.n(T),R=r("JPgR"),K=r.n(R),N=r("IzB8"),q=r.n(N),L=r("aYMp"),D=r.n(L),U=function(t){return t instanceof e?t:t instanceof Uint8Array?e.from(t.buffer,t.byteOffset,t.byteLength):e.from(t)},M=l.a.lowlevel,V=32,F=function(){function t(e){if(a()(this,t),o()(this,"_bn",void 0),"string"===typeof e){var r=k.a.decode(e);if(32!=r.length)throw new Error("Invalid public key input");this._bn=new g.a(r)}else this._bn=new g.a(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}return u()(t,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return k.a.encode(this.toBuffer())}},{key:"toBuffer",value:function(){var t=this._bn.toArrayLike(e);if(32===t.length)return t;var r=e.alloc(32);return t.copy(r,32-t.length),r}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:function(){var r=b()(h.a.mark((function r(n,a,i){var u,s;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.concat([n.toBuffer(),e.from(a),i.toBuffer()]),r.next=3,Object(m.sha256)(new Uint8Array(u));case 3:return s=r.sent,r.abrupt("return",new t(e.from(s,"hex")));case 5:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}()},{key:"createProgramAddress",value:function(){var r=b()(h.a.mark((function r(n,a){var i,u,s;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.alloc(0),n.forEach((function(t){if(t.length>V)throw new Error("Max seed length exceeded");i=e.concat([i,e.from(t)])})),i=e.concat([i,a.toBuffer(),e.from("ProgramDerivedAddress")]),r.next=5,Object(m.sha256)(new Uint8Array(i));case 5:if(u=r.sent,!Y(s=new g.a(u,16).toArray(null,32))){r.next=9;break}throw new Error("Invalid seeds, address must fall off the curve");case 9:return r.abrupt("return",new t(s));case 10:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},{key:"findProgramAddress",value:function(){var t=b()(h.a.mark((function t(r,n){var a,i,u;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=255;case 1:if(0==a){t.next=16;break}return t.prev=2,u=r.concat(e.from([a])),t.next=6,this.createProgramAddress(u,n);case 6:i=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(2),a--,t.abrupt("continue",1);case 13:return t.abrupt("return",[i,a]);case 16:throw new Error("Unable to find a viable program address nonce");case 17:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(e,r){return t.apply(this,arguments)}}()}]),t}();function Y(e){var t=[M.gf(),M.gf(),M.gf(),M.gf()],r=M.gf(),n=M.gf(),a=M.gf(),i=M.gf(),u=M.gf(),s=M.gf(),o=M.gf();return M.set25519(t[2],G),M.unpack25519(t[1],e),M.S(a,t[1]),M.M(i,a,M.D),M.Z(a,a,t[2]),M.A(i,t[2],i),M.S(u,i),M.S(s,u),M.M(o,s,u),M.M(r,o,a),M.M(r,r,i),M.pow2523(r,r),M.M(r,r,a),M.M(r,r,i),M.M(r,r,i),M.M(t[0],r,i),M.S(n,t[0]),M.M(n,n,i),J(n,a)&&M.M(t[0],t[0],H),M.S(n,t[0]),M.M(n,n,i),J(n,a)?0:1}var G=M.gf([1]),H=M.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function J(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M.pack25519(r,e),M.pack25519(n,t),M.crypto_verify_32(r,0,n,0)}var Z=function(){function e(t){a()(this,e),o()(this,"_keypair",void 0),this._keypair=t?l.a.sign.keyPair.fromSecretKey(U(t)):l.a.sign.keyPair()}return u()(e,[{key:"publicKey",get:function(){return new F(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}]),e}(),X=new F("BPFLoader1111111111111111111111111111111111"),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Object(v.blob)(32,e)},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",r=Object(v.struct)([Object(v.u32)("length"),Object(v.u32)("lengthPadding"),Object(v.blob)(Object(v.offset)(Object(v.u32)(),-8),"chars")],t),n=r.decode.bind(r),a=r.encode.bind(r);return r.decode=function(e,t){return n(e,t).chars.toString("utf8")},r.encode=function(t,r,n){var i={chars:e.from(t,"utf8")};return a(i,r,n)},r.alloc=function(t){return Object(v.u32)().span+Object(v.u32)().span+e.from(t,"utf8").length},r};function ee(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function te(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var re=function(){function t(e){a()(this,t),o()(this,"header",void 0),o()(this,"accountKeys",void 0),o()(this,"recentBlockhash",void 0),o()(this,"instructions",void 0),this.header=e.header,this.accountKeys=e.accountKeys.map((function(e){return new F(e)})),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions}return u()(t,[{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"serialize",value:function(){var t=this.accountKeys.length,r=[];te(r,t);var n=this.instructions.map((function(t){var r=t.accounts,n=t.programIdIndex,a=k.a.decode(t.data),i=[];te(i,r.length);var u=[];return te(u,a.length),{programIdIndex:n,keyIndicesCount:e.from(i),keyIndices:e.from(r),dataLength:e.from(u),data:a}})),a=[];te(a,n.length);var i=e.alloc(se);e.from(a).copy(i);var u=a.length;n.forEach((function(e){var t=Object(v.struct)([Object(v.u8)("programIdIndex"),Object(v.blob)(e.keyIndicesCount.length,"keyIndicesCount"),Object(v.seq)(Object(v.u8)("keyIndex"),e.keyIndices.length,"keyIndices"),Object(v.blob)(e.dataLength.length,"dataLength"),Object(v.seq)(Object(v.u8)("userdatum"),e.data.length,"data")]).encode(e,i,u);u+=t})),i=i.slice(0,u);var s=Object(v.struct)([Object(v.blob)(1,"numRequiredSignatures"),Object(v.blob)(1,"numReadonlySignedAccounts"),Object(v.blob)(1,"numReadonlyUnsignedAccounts"),Object(v.blob)(r.length,"keyCount"),Object(v.seq)($("key"),t,"keys"),$("recentBlockhash")]),o={numRequiredSignatures:e.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:e.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:e.from([this.header.numReadonlyUnsignedAccounts]),keyCount:e.from(r),keys:this.accountKeys.map((function(e){return e.toBuffer()})),recentBlockhash:k.a.decode(this.recentBlockhash)},c=e.alloc(2048),l=s.encode(o,c);return i.copy(c,l),c.slice(0,l+i.length)}}],[{key:"from",value:function(r){for(var n=S()(r),a=n.shift(),i=n.shift(),u=n.shift(),s=ee(n),o=[],c=0;c<s;c++){var l=n.slice(0,32);n=n.slice(32),o.push(k.a.encode(e.from(l)))}for(var p=n.slice(0,32),h=ee(n=n.slice(32)),d=[],b=0;b<h;b++){var f={};f.programIdIndex=n.shift();var g=ee(n);f.accounts=n.slice(0,g);var y=ee(n=n.slice(g)),m=n.slice(0,y);f.data=k.a.encode(e.from(m)),n=n.slice(y),d.push(f)}return new t({header:{numRequiredSignatures:a,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:u},recentBlockhash:k.a.encode(e.from(p)),accountKeys:o,instructions:d})}}]),t}();function ne(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ue=e.alloc(64).fill(0),se=1232,oe=function t(r){a()(this,t),o()(this,"keys",[]),o()(this,"programId",void 0),o()(this,"data",e.alloc(0)),r&&Object.assign(this,r)},ce=function(){function t(e){a()(this,t),o()(this,"signatures",[]),o()(this,"feePayer",void 0),o()(this,"instructions",[]),o()(this,"recentBlockhash",void 0),o()(this,"nonceInfo",void 0),e&&Object.assign(this,e)}return u()(t,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}}]),u()(t,[{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new oe(t))})),this}},{key:"compileMessage",value:function(){var e=this.nonceInfo;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));var t,r=this.recentBlockhash;if(!r)throw new Error("Transaction recentBlockhash required");if(this.instructions.length<1)throw new Error("No instructions provided");if(this.feePayer)t=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");t=this.signatures[0].publicKey}var n=[],a=[];this.instructions.forEach((function(e){e.keys.forEach((function(e){a.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}));var t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((function(e){a.push({pubkey:new F(e),isSigner:!1,isWritable:!1})})),a.sort((function(e,t){var r=e.isSigner===t.isSigner?0:e.isSigner?-1:1,n=e.isWritable===t.isWritable?0:e.isWritable?-1:1;return r||n}));var i=[];a.forEach((function(e){var t=e.pubkey.toString(),r=i.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?i[r].isWritable=i[r].isWritable||e.isWritable:i.push(e)}));var u=i.findIndex((function(e){return e.pubkey.equals(t)}));if(u>-1){var s=i.splice(u,1),c=I()(s,1)[0];c.isSigner=!0,c.isWritable=!0,i.unshift(c)}else i.unshift({pubkey:t,isSigner:!0,isWritable:!0});var l,p=ne(this.signatures);try{var h=function(){var e=l.value,t=i.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));i[t].isSigner||(i[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(p.s();!(l=p.n()).done;)h()}catch(w){p.e(w)}finally{p.f()}var d=0,b=0,f=0,g=[],y=[];i.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(g.push(t.toString()),d+=1,n||(b+=1)):(y.push(t.toString()),n||(f+=1))}));var m=g.concat(y),v=this.instructions.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:m.indexOf(r.toString()),accounts:e.keys.map((function(e){return m.indexOf(e.pubkey.toString())})),data:k.a.encode(t)}}));return v.forEach((function(e){O()(e.programIdIndex>=0),e.accounts.forEach((function(e){return O()(e>=0)}))})),new re({header:{numRequiredSignatures:d,numReadonlySignedAccounts:b,numReadonlyUnsignedAccounts:f},accountKeys:m,recentBlockhash:r,instructions:v})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,a=[],i=0,u=t;i<u.length;i++){var s=u[i],o=s.publicKey.toString();n.has(o)||(n.add(o),a.push(s))}this.signatures=a.map((function(e){return{signature:null,publicKey:e.publicKey}}));var c=this._compile();this._partialSign.apply(this,[c].concat(a)),this._verifySignatures(c.serialize(),!0)}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,a=[],i=0,u=t;i<u.length;i++){var s=u[i],o=s.publicKey.toString();n.has(o)||(n.add(o),a.push(s))}var c=this._compile();this._partialSign.apply(this,[c].concat(a))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];a.forEach((function(e){var n=l.a.sign.detached(r,e.secretKey);t._addSignature(e.publicKey,n)}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(t,r){O()(64===r.length);var n=this.signatures.findIndex((function(e){return t.equals(e.publicKey)}));if(n<0)throw new Error("unknown signer: ".concat(t.toString()));this.signatures[n].signature=e.from(r)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=ne(this.signatures);try{for(n.s();!(r=n.n()).done;){var a=r.value,i=a.signature,u=a.publicKey;if(null===i){if(t)return!1}else if(!l.a.sign.detached.verify(e,i,u.toBuffer()))return!1}}catch(s){n.e(s)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,a=this.serializeMessage();if(n&&!this._verifySignatures(a,r))throw new Error("Signature verification failed");return this._serialize(a)}},{key:"_serialize",value:function(t){var r=this.signatures,n=[];te(n,r.length);var a=n.length+64*r.length+t.length,i=e.alloc(a);return O()(r.length<256),e.from(n).copy(i,0),r.forEach((function(t,r){var a=t.signature;null!==a&&(O()(64===a.length,"signature has invalid length"),e.from(a).copy(i,n.length+64*r))})),t.copy(i,n.length+64*r.length),O()(i.length<=se,"Transaction too large: ".concat(i.length," > ").concat(se)),i}},{key:"keys",get:function(){return O()(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return O()(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return O()(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(r){for(var n=S()(r),a=ee(n),i=[],u=0;u<a;u++){var s=n.slice(0,64);n=n.slice(64),i.push(k.a.encode(e.from(s)))}return t.populate(re.from(n),i)}},{key:"populate",value:function(e,r){var n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((function(t,r){var a={signature:t==k.a.encode(ue)?null:k.a.decode(t),publicKey:e.accountKeys[r]};n.signatures.push(a)})),e.instructions.forEach((function(t){var r=t.accounts.map((function(t){var r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()})),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new oe({keys:r,programId:e.accountKeys[t.programIdIndex],data:k.a.decode(t.data)}))})),n}}]),t}(),le=new F("SysvarC1ock11111111111111111111111111111111"),pe=new F("SysvarRecentB1ockHashes11111111111111111111"),he=new F("SysvarRent111111111111111111111111111111111"),de=new F("SysvarRewards111111111111111111111111111111"),be=new F("SysvarStakeHistory1111111111111111111111111"),fe=new F("Sysvar1nstructions1111111111111111111111111"),ge=Object(v.nu64)("lamportsPerSignature"),ye=Object(v.struct)([Object(v.u32)("version"),Object(v.u32)("state"),$("authorizedPubkey"),$("nonce"),Object(v.struct)([ge],"feeCalculator")]),ke=ye.span,me=function(){function e(){a()(this,e),o()(this,"authorizedPubkey",void 0),o()(this,"nonce",void 0),o()(this,"feeCalculator",void 0)}return u()(e,null,[{key:"fromAccountData",value:function(e){var t=ye.decode(U(e),0);return t.authorizedPubkey=new F(t.authorizedPubkey),t.nonce=new F(t.nonce).toString(),t}}]),e}();function ve(e){return new Promise((function(t){return setTimeout(t,e)}))}function we(e,t){var r,n=new Promise((function(e){r=setTimeout((function(){return e(null)}),t)}));return Promise.race([e,n]).then((function(e){return clearTimeout(r),e}))}var Se=function(){function e(t){a()(this,e),o()(this,"_agent",void 0),o()(this,"_activeRequests",0),o()(this,"_destroyTimeout",null),o()(this,"_useHttps",void 0),this._useHttps=!0===t,this._agent=e._newAgent(this._useHttps)}return u()(e,null,[{key:"_newAgent",value:function(e){var t={keepAlive:!0,maxSockets:25};return e?new K.a.Agent(t):new z.a.Agent(t)}}]),u()(e,[{key:"requestStart",value:function(){}},{key:"requestEnd",value:function(){}}]),e}();function xe(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return u=e.done,e},e:function(e){s=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(s)throw i}}}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e){return Pe({context:Object(W.a)({slot:"number"}),value:e})}function Pe(e){var t=W.a.literal("2.0");return W.a.union([Object(W.a)({jsonrpc:t,id:"string",error:"any"}),Object(W.a)({jsonrpc:t,id:"string",error:"null?",result:e})])}function je(e){return Object(W.a)({context:Object(W.a)({slot:"number"}),value:e})}var Ee=Object(W.a)({foundation:"number",foundationTerm:"number",initial:"number",taper:"number",terminal:"number"}),Be=Object(W.a)({epoch:"number",slotIndex:"number",slotsInEpoch:"number",absoluteSlot:"number",blockHeight:"number?",transactionCount:"number?"}),We=Object(W.a)({slotsPerEpoch:"number",leaderScheduleSlotOffset:"number",warmup:"boolean",firstNormalEpoch:"number",firstNormalSlot:"number"}),Ce=W.a.record(["string","any"]),Te=W.a.union(["null","object"]),ze=Object(W.a)({err:Te}),Re=W.a.pick({"solana-core":"string","feature-set":"number?"}),Ke=Ae(W.a.pick({err:W.a.union(["null","object","string"]),logs:W.a.union(["null",W.a.array(["string"])])}));var Ne=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:Ee}),qe=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:Be}),Le=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:We}),De=Pe(Ce),Ue=Ae("number?"),Me=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:W.a.union(["null","number","undefined"])}),Ve=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:"number"}),Fe=Ae(Object(W.a)({total:"number",circulating:"number",nonCirculating:"number",nonCirculatingAccounts:W.a.array(["string"])})),Ye=W.a.object({amount:"string",uiAmount:"number",decimals:"number"}),Ge=Ae(W.a.array([W.a.pick({address:"string",amount:"string",uiAmount:"number",decimals:"number"})])),He=Ae(Ye),Je=Ae(Ye),Ze=Ae(W.a.array([W.a.object({pubkey:"string",account:W.a.object({executable:"boolean",owner:"string",lamports:"number",data:["string",W.a.literal("base64")],rentEpoch:"number?"})})])),Xe=Ae(W.a.array([W.a.object({pubkey:"string",account:W.a.object({executable:"boolean",owner:"string",lamports:"number",data:W.a.pick({program:"string",parsed:"any",space:"number"}),rentEpoch:"number?"})})])),$e=Ae(W.a.array([Object(W.a)({lamports:"number",address:"string"})])),Qe=Object(W.a)({jsonrpc:W.a.literal("2.0"),id:"string",error:"any?",result:Re}),et=Object(W.a)({executable:"boolean",owner:"string",lamports:"number",data:"any",rentEpoch:"number?"}),tt=W.a.object({executable:"boolean",owner:"string",lamports:"number",data:W.a.union([["string",W.a.literal("base64")],W.a.pick({program:"string",parsed:"any",space:"number"})]),rentEpoch:"number?"}),rt=W.a.object({state:W.a.union([W.a.literal("active"),W.a.literal("inactive"),W.a.literal("activating"),W.a.literal("deactivating")]),active:"number",inactive:"number"}),nt=Ae(W.a.union(["null",et])),at=Ae(W.a.union(["null",tt])),it=Pe(rt),ut=Pe(W.a.array(["string"])),st=Pe(W.a.array([W.a.pick({signature:"string",slot:"number",err:Te,memo:W.a.union(["null","string"]),blockTime:W.a.union(["undefined","null","number"])})])),ot=Object(W.a)({subscription:"number",result:je(et)}),ct=Object(W.a)({pubkey:"string",account:et}),lt=Object(W.a)({pubkey:"string",account:tt}),pt=Object(W.a)({subscription:"number",result:je(ct)}),ht=Object(W.a)({parent:"number",slot:"number",root:"number"}),dt=Object(W.a)({subscription:"number",result:ht}),bt=Object(W.a)({subscription:"number",result:je(ze)}),ft=Object(W.a)({subscription:"number",result:"number"}),gt=Pe(W.a.array([ct])),yt=Pe(W.a.array([lt])),kt=Pe("number"),mt=Pe("string"),vt=Pe(W.a.array([W.a.pick({pubkey:"string",gossip:W.a.union(["null","string"]),tpu:W.a.union(["null","string"]),rpc:W.a.union(["null","string"]),version:W.a.union(["null","string"])})])),wt=Pe(Object(W.a)({current:W.a.array([W.a.pick({votePubkey:"string",nodePubkey:"string",activatedStake:"number",epochVoteAccount:"boolean",epochCredits:W.a.array([W.a.tuple(["number","number","number"])]),commission:"number",lastVote:"number",rootSlot:"number?"})]),delinquent:W.a.array([W.a.pick({votePubkey:"string",nodePubkey:"string",activatedStake:"number",epochVoteAccount:"boolean",epochCredits:W.a.array([W.a.tuple(["number","number","number"])]),commission:"number",lastVote:"number",rootSlot:"number?"})])})),St=Ae(W.a.array([W.a.union(["null",W.a.pick({slot:"number",confirmations:W.a.union(["number","null"]),err:Te,confirmationStatus:"string?"})])])),xt=Pe("number"),It=Pe("number"),_t=Pe("number"),Ot=Object(W.a)({signatures:W.a.array(["string"]),message:Object(W.a)({accountKeys:W.a.array(["string"]),header:Object(W.a)({numRequiredSignatures:"number",numReadonlySignedAccounts:"number",numReadonlyUnsignedAccounts:"number"}),instructions:W.a.array([Object(W.a)({accounts:W.a.array(["number"]),data:"string",programIdIndex:"number"})]),recentBlockhash:"string"})}),At=Object(W.a)({signatures:W.a.array(["string"]),message:Object(W.a)({accountKeys:W.a.array([Object(W.a)({pubkey:"string",signer:"boolean",writable:"boolean"})]),instructions:W.a.array([W.a.union([Object(W.a)({accounts:W.a.array(["string"]),data:"string",programId:"string"}),Object(W.a)({parsed:"any",program:"string",programId:"string"})])]),recentBlockhash:"string"})}),Pt=W.a.union(["null",W.a.pick({err:Te,fee:"number",innerInstructions:W.a.union([W.a.array([Object(W.a)({index:"number",instructions:W.a.array([Object(W.a)({accounts:W.a.array(["number"]),data:"string",programIdIndex:"number"})])})]),"null","undefined"]),preBalances:W.a.array(["number"]),postBalances:W.a.array(["number"]),logMessages:W.a.union([W.a.array(["string"]),"null","undefined"]),preTokenBalances:W.a.union([W.a.array([W.a.pick({accountIndex:"number",mint:"string",uiTokenAmount:W.a.pick({amount:"string",decimals:"number",uiAmount:"number"})})]),"null","undefined"]),postTokenBalances:W.a.union([W.a.array([W.a.pick({accountIndex:"number",mint:"string",uiTokenAmount:W.a.pick({amount:"string",decimals:"number",uiAmount:"number"})})]),"null","undefined"])})]),jt=W.a.union(["null",W.a.pick({err:Te,fee:"number",innerInstructions:W.a.union([W.a.array([Object(W.a)({index:"number",instructions:W.a.array([W.a.union([Object(W.a)({accounts:W.a.array(["string"]),data:"string",programId:"string"}),Object(W.a)({parsed:"any",program:"string",programId:"string"})])])})]),"null","undefined"]),preBalances:W.a.array(["number"]),postBalances:W.a.array(["number"]),logMessages:W.a.union([W.a.array(["string"]),"null","undefined"]),preTokenBalances:W.a.union([W.a.array([W.a.pick({accountIndex:"number",mint:"string",uiTokenAmount:W.a.pick({amount:"string",decimals:"number",uiAmount:"number"})})]),"null","undefined"]),postTokenBalances:W.a.union([W.a.array([W.a.pick({accountIndex:"number",mint:"string",uiTokenAmount:W.a.pick({amount:"string",decimals:"number",uiAmount:"number"})})]),"null","undefined"])})]),Et=Pe(W.a.union(["null",W.a.pick({blockhash:"string",previousBlockhash:"string",parentSlot:"number",transactions:W.a.array([Object(W.a)({transaction:Ot,meta:Pt})]),rewards:W.a.union(["undefined",W.a.array([Object(W.a)({pubkey:"string",lamports:"number",postBalance:W.a.union(["number","undefined"]),rewardType:W.a.union(["string","undefined"])})])])})])),Bt=Pe(W.a.union(["null",W.a.pick({slot:"number",transaction:Ot,meta:Pt,blockTime:W.a.union(["number","null","undefined"])})])),Wt=Pe(W.a.union(["null",W.a.pick({slot:"number",transaction:At,meta:jt,blockTime:W.a.union(["number","null","undefined"])})])),Ct=Ae(Object(W.a)({blockhash:"string",feeCalculator:Object(W.a)({lamportsPerSignature:"number"})})),Tt=Pe(W.a.array([W.a.pick({slot:"number",numTransactions:"number",numSlots:"number",samplePeriodSecs:"number"})])),zt=Ae(W.a.union(["null",Object(W.a)({feeCalculator:Object(W.a)({lamportsPerSignature:"number"})})])),Rt=Pe("string"),Kt=Pe("string"),Nt=function(){function t(e,r){a()(this,t),o()(this,"_rpcEndpoint",void 0),o()(this,"_rpcRequest",void 0),o()(this,"_rpcWebSocket",void 0),o()(this,"_rpcWebSocketConnected",!1),o()(this,"_rpcWebSocketHeartbeat",null),o()(this,"_rpcWebSocketIdleTimeout",null),o()(this,"_commitment",void 0),o()(this,"_blockhashInfo",void 0),o()(this,"_disableBlockhashCaching",!1),o()(this,"_pollingBlockhash",!1),o()(this,"_accountChangeSubscriptions",{}),o()(this,"_accountChangeSubscriptionCounter",0),o()(this,"_programAccountChangeSubscriptions",{}),o()(this,"_programAccountChangeSubscriptionCounter",0),o()(this,"_slotSubscriptions",{}),o()(this,"_slotSubscriptionCounter",0),o()(this,"_signatureSubscriptions",{}),o()(this,"_signatureSubscriptionCounter",0),o()(this,"_rootSubscriptions",{}),o()(this,"_rootSubscriptionCounter",0),this._rpcEndpoint=e;var n=Object(A.parse)(e),i="https:"===n.protocol;this._rpcRequest=function(e,t){var r=new Se(t),n=B()(function(){var t=b()(h.a.mark((function t(n,a){var i,u,s,o,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r.requestStart(),u={method:"POST",body:n,agent:i,headers:{"Content-Type":"application/json"}},t.prev=2,s=5,o={},c=500;case 6:return t.next=8,j()(e,u);case 8:if(429===(o=t.sent).status){t.next=11;break}return t.abrupt("break",20);case 11:if(0!==(s-=1)){t.next=14;break}return t.abrupt("break",20);case 14:return console.log("Server responded with ".concat(o.status," ").concat(o.statusText,".  Retrying after ").concat(c,"ms delay...")),t.next=17,ve(c);case 17:c*=2;case 18:t.next=6;break;case 20:return t.next=22,o.text();case 22:l=t.sent,o.ok?a(null,l):a(new Error("".concat(o.status," ").concat(o.statusText,": ").concat(l))),t.next=29;break;case 26:t.prev=26,t.t0=t.catch(2),a(t.t0);case 29:return t.prev=29,r.requestEnd(),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[2,26,29,32]])})));return function(e,r){return t.apply(this,arguments)}}());return function(e,t){return new Promise((function(r,a){n.request(e,t,(function(e,t){e?a(e):r(t)}))}))}}(n.href,i),this._commitment=r,this._blockhashInfo={recentBlockhash:null,lastFetch:new Date(0),transactionSignatures:[],simulatedSignatures:[]},n.protocol=i?"wss:":"ws:",n.host="",null!==n.port&&(n.port=String(Number(n.port)+1)),this._rpcWebSocket=new C.Client(Object(A.format)(n),{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this))}return u()(t,[{key:"getBalanceAndContext",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getBalance",n);case 3:if(a=e.sent,!(i=Ue(a)).error){e.next=7;break}throw new Error("failed to get balance for "+t.toBase58()+": "+i.error.message);case 7:return O()("undefined"!==typeof i.result),e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=b()(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getBalanceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getBlockTime",value:function(){var e=b()(h.a.mark((function e(t){var r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getBlockTime",[t]);case 2:if(r=e.sent,!(n=Me(r)).error){e.next=6;break}throw new Error("failed to get block time for slot "+t+": "+n.error.message);case 6:return O()("undefined"!==typeof n.result),e.abrupt("return",n.result);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMinimumLedgerSlot",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("minimumLedgerSlot",[]);case 2:if(t=e.sent,!(r=Ve(t)).error){e.next=6;break}throw new Error("failed to get minimum ledger slot: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFirstAvailableBlock",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getFirstAvailableBlock",[]);case 2:if(t=e.sent,!(r=Ve(t)).error){e.next=6;break}throw new Error("failed to get first available block: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSupply",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getSupply",r);case 3:if(n=e.sent,!(a=Fe(n)).error){e.next=7;break}throw new Error("failed to get supply: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),a.result.value.nonCirculatingAccounts=a.result.value.nonCirculatingAccounts.map((function(e){return new F(e)})),e.abrupt("return",a.result);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenSupply",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenSupply",n);case 3:if(a=e.sent,!(i=Je(a)).error){e.next=7;break}throw new Error("failed to get token supply: "+i.error.message);case 7:return O()("undefined"!==typeof i.result),e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTokenAccountBalance",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenAccountBalance",n);case 3:if(a=e.sent,!(i=He(a)).error){e.next=7;break}throw new Error("failed to get token account balance: "+i.error.message);case 7:return O()("undefined"!==typeof i.result),e.abrupt("return",i.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTokenAccountsByOwner",value:function(){var t=b()(h.a.mark((function t(r,n,a){var i,u,s,o,c,l,p;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[r.toBase58()],n.mint?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()}),u=this._buildArgs(i,a,"base64"),t.next=5,this._rpcRequest("getTokenAccountsByOwner",u);case 5:if(s=t.sent,!(o=Ze(s)).error){t.next=9;break}throw new Error("failed to get token accounts owned by account "+r.toBase58()+": "+o.error.message);case 9:return c=o.result,l=c.context,p=c.value,O()("undefined"!==typeof c),t.abrupt("return",{context:l,value:p.map((function(t){return O()("base64"===t.account.data[1]),{pubkey:new F(t.pubkey),account:{executable:t.account.executable,owner:new F(t.account.owner),lamports:t.account.lamports,data:e.from(t.account.data[0],"base64")}}}))});case 13:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"getParsedTokenAccountsByOwner",value:function(){var e=b()(h.a.mark((function e(t,r,n){var a,i,u,s,o,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t.toBase58()],r.mint?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()}),i=this._buildArgs(a,n,"jsonParsed"),e.next=5,this._rpcRequest("getTokenAccountsByOwner",i);case 5:if(u=e.sent,!(s=Xe(u)).error){e.next=9;break}throw new Error("failed to get token accounts owned by account "+t.toBase58()+": "+s.error.message);case 9:return o=s.result,c=o.context,l=o.value,O()("undefined"!==typeof o),e.abrupt("return",{context:c,value:l.map((function(e){return{pubkey:new F(e.pubkey),account:{executable:e.account.executable,owner:new F(e.account.owner),lamports:e.account.lamports,data:e.account.data}}}))});case 13:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getLargestAccounts",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Oe(Oe({},t),{},{commitment:t&&t.commitment||this.commitment}),n=r.filter||r.commitment?[r]:[],e.next=4,this._rpcRequest("getLargestAccounts",n);case 4:if(a=e.sent,!(i=$e(a)).error){e.next=8;break}throw new Error("failed to get largest accounts: "+i.error.message);case 8:return O()("undefined"!==typeof i.result),i.result.value=i.result.value.map((function(e){var t=e.address,r=e.lamports;return{address:new F(t),lamports:r}})),e.abrupt("return",i.result);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTokenLargestAccounts",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t.toBase58()],r),e.next=3,this._rpcRequest("getTokenLargestAccounts",n);case 3:if(a=e.sent,!(i=Ge(a)).error){e.next=7;break}throw new Error("failed to get token largest accounts: "+i.error.message);case 7:return O()("undefined"!==typeof i.result),i.result.value=i.result.value.map((function(e){return Oe(Oe({},e),{},{address:new F(e.address)})})),e.abrupt("return",i.result);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccountInfoAndContext",value:function(){var t=b()(h.a.mark((function t(r,n){var a,i,u,s,o,c,l,p,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._buildArgs([r.toBase58()],n,"base64"),t.next=3,this._rpcRequest("getAccountInfo",a);case 3:if(i=t.sent,!(u=nt(i)).error){t.next=7;break}throw new Error("failed to get info about account "+r.toBase58()+": "+u.error.message);case 7:return O()("undefined"!==typeof u.result),s=null,u.result.value&&(o=u.result.value,c=o.executable,l=o.owner,p=o.lamports,d=o.data,O()("base64"===d[1]),s={executable:c,owner:new F(l),lamports:p,data:e.from(d[0],"base64")}),t.abrupt("return",{context:{slot:u.result.context.slot},value:s});case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getParsedAccountInfo",value:function(){var t=b()(h.a.mark((function t(r,n){var a,i,u,s,o,c,l,p,d,b;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._buildArgs([r.toBase58()],n,"jsonParsed"),t.next=3,this._rpcRequest("getAccountInfo",a);case 3:if(i=t.sent,!(u=at(i)).error){t.next=7;break}throw new Error("failed to get info about account "+r.toBase58()+": "+u.error.message);case 7:return O()("undefined"!==typeof u.result),s=null,u.result.value&&(o=u.result.value,c=o.executable,l=o.owner,p=o.lamports,d=o.data,(b=d).program||(O()("base64"===b[1]),b=e.from(b[0],"base64")),s={executable:c,owner:new F(l),lamports:p,data:b}),t.abrupt("return",{context:{slot:u.result.context.slot},value:s});case 11:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getAccountInfo",value:function(){var e=b()(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get info about account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getStakeActivation",value:function(){var e=b()(h.a.mark((function e(t,r,n){var a,i,u,s,o,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this._buildArgs([t.toBase58()],r,void 0,void 0!==n?{epoch:n}:void 0),e.next=3,this._rpcRequest("getStakeActivation",a);case 3:if(i=e.sent,!(u=it(i)).error){e.next=7;break}throw new Error("failed to get Stake Activation ".concat(t.toBase58(),": ").concat(u.error.message));case 7:return O()("undefined"!==typeof u.result),s=u.result,o=s.state,c=s.active,l=s.inactive,e.abrupt("return",{state:o,active:c,inactive:l});case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getProgramAccounts",value:function(){var t=b()(h.a.mark((function t(r,n){var a,i,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._buildArgs([r.toBase58()],n,"base64"),t.next=3,this._rpcRequest("getProgramAccounts",a);case 3:if(i=t.sent,!(u=gt(i)).error){t.next=7;break}throw new Error("failed to get accounts owned by program "+r.toBase58()+": "+u.error.message);case 7:return s=u.result,O()("undefined"!==typeof s),t.abrupt("return",s.map((function(t){return O()("base64"===t.account.data[1]),{pubkey:new F(t.pubkey),account:{executable:t.account.executable,owner:new F(t.account.owner),lamports:t.account.lamports,data:e.from(t.account.data[0],"base64")}}})));case 10:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"getParsedProgramAccounts",value:function(){var t=b()(h.a.mark((function t(r,n){var a,i,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=this._buildArgs([r.toBase58()],n,"jsonParsed"),t.next=3,this._rpcRequest("getProgramAccounts",a);case 3:if(i=t.sent,!(u=yt(i)).error){t.next=7;break}throw new Error("failed to get accounts owned by program "+r.toBase58()+": "+u.error.message);case 7:return s=u.result,O()("undefined"!==typeof s),t.abrupt("return",s.map((function(t){var r=t.account.data;return r.program||(O()("base64"===r[1]),r=e.from(r[0],"base64")),{pubkey:new F(t.pubkey),account:{executable:t.account.executable,owner:new F(t.account.owner),lamports:t.account.lamports,data:r}}})));case 10:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}()},{key:"confirmTransaction",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i,u,s,o,c,l,p=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=k.a.decode(t),e.next=7;break;case 4:throw e.prev=4,e.t0=e.catch(0),new Error("signature must be base58 encoded: "+t);case 7:O()(64===n.length,"signature has invalid length"),a=Date.now(),i=r||this.commitment,s=null,o=new Promise((function(e,r){try{u=p.onSignature(t,(function(t,r){u=void 0,s={context:r,value:t},e()}),i)}catch(n){r(n)}})),c=6e4,e.t1=i,e.next="recent"===e.t1||"single"===e.t1||"singleGossip"===e.t1?16:("max"===e.t1||e.t1,18);break;case 16:return c=3e4,e.abrupt("break",18);case 18:return e.prev=18,e.next=21,we(o,c);case 21:return e.prev=21,u&&this.removeSignatureListener(u),e.finish(21);case 24:if(null!==s){e.next=27;break}throw l=(Date.now()-a)/1e3,new Error("Transaction was not confirmed in ".concat(l.toFixed(2)," seconds. It is unknown if it succeeded or failed. Check signature ").concat(t," using the Solana Explorer or CLI tools."));case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this,[[0,4],[18,,21,24]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getClusterNodes",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getClusterNodes",[]);case 2:if(t=e.sent,!(r=vt(t)).error){e.next=6;break}throw new Error("failed to get cluster nodes: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVoteAccounts",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getVoteAccounts",r);case 3:if(n=e.sent,!(a=wt(n)).error){e.next=7;break}throw new Error("failed to get vote accounts: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSlot",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getSlot",r);case 3:if(n=e.sent,!(a=kt(n)).error){e.next=7;break}throw new Error("failed to get slot: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSlotLeader",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getSlotLeader",r);case 3:if(n=e.sent,!(a=mt(n)).error){e.next=7;break}throw new Error("failed to get slot leader: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSignatureStatus",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSignatureStatuses([t],r);case 2:return n=e.sent,a=n.context,i=n.value,O()(1===i.length),e.abrupt("return",{context:a,value:i[0]});case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getSignatureStatuses",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[t],r&&n.push(r),e.next=4,this._rpcRequest("getSignatureStatuses",n);case 4:if(a=e.sent,!(i=St(a)).error){e.next=8;break}throw new Error("failed to get signature status: "+i.error.message);case 8:return O()("undefined"!==typeof i.result),e.abrupt("return",i.result);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTransactionCount",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getTransactionCount",r);case 3:if(n=e.sent,!(a=xt(n)).error){e.next=7;break}throw new Error("failed to get transaction count: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",Number(a.result));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalSupply",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getTotalSupply",r);case 3:if(n=e.sent,!(a=It(n)).error){e.next=7;break}throw new Error("faied to get total supply: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",Number(a.result));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getInflationGovernor",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getInflationGovernor",r);case 3:if(n=e.sent,!(a=Ne(n)).error){e.next=7;break}throw new Error("failed to get inflation: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",Ee(a.result));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEpochInfo",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getEpochInfo",r);case 3:if(n=e.sent,!(a=qe(n)).error){e.next=7;break}throw new Error("failed to get epoch info: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",Be(a.result));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEpochSchedule",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getEpochSchedule",[]);case 2:if(t=e.sent,!(r=Le(t)).error){e.next=6;break}throw new Error("failed to get epoch schedule: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",We(r.result));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLeaderSchedule",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getLeaderSchedule",[]);case 2:if(t=e.sent,!(r=De(t)).error){e.next=6;break}throw new Error("failed to get leader schedule: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMinimumBalanceForRentExemption",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getMinimumBalanceForRentExemption",n);case 3:if(a=e.sent,!(i=_t(a)).error){e.next=8;break}return console.warn("Unable to fetch minimum balance for rent exemption"),e.abrupt("return",0);case 8:return O()("undefined"!==typeof i.result),e.abrupt("return",Number(i.result));case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getRecentBlockhashAndContext",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs([],t),e.next=3,this._rpcRequest("getRecentBlockhash",r);case 3:if(n=e.sent,!(a=Ct(n)).error){e.next=7;break}throw new Error("failed to get recent blockhash: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecentPerformanceSamples",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._buildArgs(t?[t]:[]),e.next=3,this._rpcRequest("getRecentPerformanceSamples",r);case 3:if(n=e.sent,!(a=Tt(n)).error){e.next=7;break}throw new Error("failed to get recent performance samples: "+a.error.message);case 7:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFeeCalculatorForBlockhash",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i,u,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._buildArgs([t],r),e.next=3,this._rpcRequest("getFeeCalculatorForBlockhash",n);case 3:if(a=e.sent,!(i=zt(a)).error){e.next=7;break}throw new Error("failed to get fee calculator: "+i.error.message);case 7:return O()("undefined"!==typeof i.result),u=i.result,s=u.context,o=u.value,e.abrupt("return",{context:s,value:o&&o.feeCalculator});case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getRecentBlockhash",value:function(){var e=b()(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRecentBlockhashAndContext(t).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get recent blockhash: "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getVersion",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getVersion",[]);case 2:if(t=e.sent,!(r=Qe(t)).error){e.next=6;break}throw new Error("failed to get version: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getConfirmedBlock",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getConfirmedBlock",[t]);case 2:if(r=e.sent,!(n=Et(r)).error){e.next=6;break}throw new Error("failed to get confirmed block: "+n.error.message);case 6:if(a=n.result,O()("undefined"!==typeof a),a){e.next=10;break}throw new Error("Confirmed block "+t+" not found");case 10:return e.abrupt("return",{blockhash:new F(a.blockhash).toString(),previousBlockhash:new F(a.previousBlockhash).toString(),parentSlot:a.parentSlot,transactions:a.transactions.map((function(e){var t=e.transaction,r=t.message,n=t.signatures;return{transaction:ce.populate(new re(r),n),meta:e.meta}})),rewards:a.rewards||[]});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfirmedTransaction",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a,i,u,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getConfirmedTransaction",[t]);case 2:if(r=e.sent,n=Bt(r),a=n.result,!(i=n.error)){e.next=6;break}throw new Error("failed to get confirmed transaction: "+i.message);case 6:if(O()("undefined"!==typeof a),null!==a){e.next=9;break}return e.abrupt("return",a);case 9:return u=a.transaction,s=u.message,o=u.signatures,e.abrupt("return",{slot:a.slot,transaction:ce.populate(new re(s),o),meta:a.meta});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getParsedConfirmedTransaction",value:function(){var e=b()(h.a.mark((function e(t){var r,n,a,i,u,s,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getConfirmedTransaction",[t,"jsonParsed"]);case 2:if(r=e.sent,n=Wt(r),a=n.result,!(i=n.error)){e.next=6;break}throw new Error("failed to get confirmed transaction: "+i.message);case 6:if(O()("undefined"!==typeof a),null!==a){e.next=9;break}return e.abrupt("return",a);case 9:return a.meta.innerInstructions&&a.meta.innerInstructions.forEach((function(e){e.instructions.forEach((function(e){e.programId=new F(e.programId),e.accounts&&(e.accounts=e.accounts.map((function(e){return new F(e)})))}))})),u=a.transaction.message,s=u.accountKeys,o=u.instructions,c=u.recentBlockhash,e.abrupt("return",{slot:a.slot,meta:a.meta,transaction:{signatures:a.transaction.signatures,message:{accountKeys:s.map((function(e){return{pubkey:new F(e.pubkey),signer:e.signer,writable:e.writable}})),instructions:o.map((function(e){var t={programId:new F(e.programId)};return"accounts"in e&&(t.accounts=e.accounts.map((function(e){return new F(e)}))),Oe(Oe({},e),t)})),recentBlockhash:c}}});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfirmedSignaturesForAddress",value:function(){var e=b()(h.a.mark((function e(t,r,n){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getConfirmedSignaturesForAddress",[t.toBase58(),r,n]);case 2:if(a=e.sent,!(i=ut(a)).error){e.next=6;break}throw new Error("failed to get confirmed signatures for address: "+i.error.message);case 6:return O()("undefined"!==typeof i.result),e.abrupt("return",i.result);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getConfirmedSignaturesForAddress2",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("getConfirmedSignaturesForAddress2",[t.toBase58(),r]);case 2:if(n=e.sent,!(a=st(n)).error){e.next=6;break}throw new Error("failed to get confirmed signatures for address: "+a.error.message);case 6:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNonceAndContext",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountInfoAndContext(t,r);case 2:return n=e.sent,a=n.context,i=n.value,u=null,null!==i&&(u=me.fromAccountData(i.data)),e.abrupt("return",{context:a,value:u});case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNonce",value:function(){var e=b()(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNonceAndContext(t,r).then((function(e){return e.value})).catch((function(e){throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"requestAirdrop",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("requestAirdrop",[t.toBase58(),r]);case 2:if(n=e.sent,!(a=Rt(n)).error){e.next=6;break}throw new Error("airdrop to "+t.toBase58()+" failed: "+a.error.message);case 6:return O()("undefined"!==typeof a.result),e.abrupt("return",a.result);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_recentBlockhash",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}case 1:if(!this._pollingBlockhash){e.next=6;break}return e.next=4,ve(100);case 4:e.next=1;break;case 6:if(r=Date.now()-this._blockhashInfo.lastFetch>=3e4,null===this._blockhashInfo.recentBlockhash||r){e.next=9;break}return e.abrupt("return",this._blockhashInfo.recentBlockhash);case 9:return e.next=11,this._pollNewBlockhash();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_pollNewBlockhash",value:function(){var e=b()(h.a.mark((function e(){var t,r,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._pollingBlockhash=!0,e.prev=1,t=Date.now(),r=0;case 4:if(!(r<50)){e.next=17;break}return e.next=7,this.getRecentBlockhash("max");case 7:if(n=e.sent,a=n.blockhash,this._blockhashInfo.recentBlockhash==a){e.next=12;break}return this._blockhashInfo={recentBlockhash:a,lastFetch:new Date,transactionSignatures:[],simulatedSignatures:[]},e.abrupt("return",a);case 12:return e.next=14,ve(200);case 14:r++,e.next=4;break;case 17:throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-t,"ms"));case 18:return e.prev=18,this._pollingBlockhash=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"simulateTransaction",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i,u,s,o,c,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.nonceInfo||!r){e.next=4;break}t.sign.apply(t,S()(r)),e.next=22;break;case 4:n=this._disableBlockhashCaching;case 5:return e.next=7,this._recentBlockhash(n);case 7:if(t.recentBlockhash=e.sent,r){e.next=10;break}return e.abrupt("break",22);case 10:if(t.sign.apply(t,S()(r)),t.signature){e.next=13;break}throw new Error("!signature");case 13:if(a=t.signature.toString("base64"),this._blockhashInfo.simulatedSignatures.includes(a)||this._blockhashInfo.transactionSignatures.includes(a)){e.next=19;break}return this._blockhashInfo.simulatedSignatures.push(a),e.abrupt("break",22);case 19:n=!0;case 20:e.next=5;break;case 22:return i=t.serializeMessage(),u=t._serialize(i),s=u.toString("base64"),o={encoding:"base64",commitment:this.commitment},c=[s,o],r&&(o.sigVerify=!0),e.next=30,this._rpcRequest("simulateTransaction",c);case 30:if(l=e.sent,!(p=Ke(l)).error){e.next=34;break}throw new Error("failed to simulate transaction: "+p.error.message);case 34:return O()("undefined"!==typeof p.result),O()(p.result),e.abrupt("return",p.result);case 37:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=b()(h.a.mark((function e(t,r,n){var a,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.nonceInfo){e.next=4;break}t.sign.apply(t,S()(r)),e.next=20;break;case 4:a=this._disableBlockhashCaching;case 5:return e.next=7,this._recentBlockhash(a);case 7:if(t.recentBlockhash=e.sent,t.sign.apply(t,S()(r)),t.signature){e.next=11;break}throw new Error("!signature");case 11:if(i=t.signature.toString("base64"),this._blockhashInfo.transactionSignatures.includes(i)){e.next=17;break}return this._blockhashInfo.transactionSignatures.push(i),e.abrupt("break",20);case 17:a=!0;case 18:e.next=5;break;case 20:return u=t.serialize(),e.next=23,this.sendRawTransaction(u,n);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"validatorExit",value:function(){var e=b()(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._rpcRequest("validatorExit",[]);case 2:if(t=e.sent,!(r=Pe("boolean")(t)).error){e.next=6;break}throw new Error("validator exit failed: "+r.error.message);case 6:return O()("undefined"!==typeof r.result),e.abrupt("return",r.result);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendRawTransaction",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U(t).toString("base64"),e.next=3,this.sendEncodedTransaction(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sendEncodedTransaction",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a,i,u,s,o,c,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[t,n={encoding:"base64"}],i=r&&r.skipPreflight,u=r&&r.preflightCommitment,i&&(n.skipPreflight=i),u&&(n.preflightCommitment=u),e.next=8,this._rpcRequest("sendTransaction",a);case 8:if(s=e.sent,!(o=Kt(s)).error){e.next=13;break}throw o.error.data&&(c=o.error.data.logs)&&Array.isArray(c)&&(p=(l="\n    ")+c.join(l),console.error(o.error.message,p)),new Error("failed to send transaction: "+o.error.message);case 13:return O()("undefined"!==typeof o.result),O()(o.result),e.abrupt("return",o.result);case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_wsOnOpen",value:function(){var e=this;this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((function(){e._rpcWebSocket.notify("ping").catch((function(){}))}),5e3),this._updateSubscriptions()}},{key:"_wsOnError",value:function(e){console.error("ws error:",e.message)}},{key:"_wsOnClose",value:function(e){clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null,1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}},{key:"_subscribe",value:function(){var e=b()(h.a.mark((function e(t,r,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.subscriptionId){e.next=13;break}return t.subscriptionId="subscribing",e.prev=2,e.next=5,this._rpcWebSocket.call(r,n);case 5:a=e.sent,"subscribing"===t.subscriptionId&&(t.subscriptionId=a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),"subscribing"===t.subscriptionId&&(t.subscriptionId=null),console.error("".concat(r," error for argument"),n,e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_unsubscribe",value:function(){var e=b()(h.a.mark((function e(t,r){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=t.subscriptionId)||"string"==typeof n){e.next=11;break}return a=n,e.prev=3,e.next=6,this._rpcWebSocket.call(r,[a]);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("".concat(r," error:"),e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_resetSubscriptions",value:function(){Object.values(this._accountChangeSubscriptions).forEach((function(e){return e.subscriptionId=null})),Object.values(this._programAccountChangeSubscriptions).forEach((function(e){return e.subscriptionId=null})),Object.values(this._signatureSubscriptions).forEach((function(e){return e.subscriptionId=null})),Object.values(this._slotSubscriptions).forEach((function(e){return e.subscriptionId=null})),Object.values(this._rootSubscriptions).forEach((function(e){return e.subscriptionId=null}))}},{key:"_updateSubscriptions",value:function(){var e=this,t=Object.keys(this._accountChangeSubscriptions).map(Number),r=Object.keys(this._programAccountChangeSubscriptions).map(Number),n=Object.keys(this._slotSubscriptions).map(Number),a=Object.keys(this._signatureSubscriptions).map(Number),i=Object.keys(this._rootSubscriptions).map(Number);if(0!==t.length||0!==r.length||0!==n.length||0!==a.length||0!==i.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){var u,s=xe(t);try{for(s.s();!(u=s.n()).done;){var o=u.value,c=this._accountChangeSubscriptions[o];this._subscribe(c,"accountSubscribe",this._buildArgs([c.publicKey],c.commitment,"base64"))}}catch(O){s.e(O)}finally{s.f()}var l,p=xe(r);try{for(p.s();!(l=p.n()).done;){var h=l.value,d=this._programAccountChangeSubscriptions[h];this._subscribe(d,"programSubscribe",this._buildArgs([d.programId],d.commitment,"base64"))}}catch(O){p.e(O)}finally{p.f()}var b,f=xe(n);try{for(f.s();!(b=f.n()).done;){var g=b.value,y=this._slotSubscriptions[g];this._subscribe(y,"slotSubscribe",[])}}catch(O){f.e(O)}finally{f.f()}var k,m=xe(a);try{for(m.s();!(k=m.n()).done;){var v=k.value,w=this._signatureSubscriptions[v];this._subscribe(w,"signatureSubscribe",this._buildArgs([w.signature],w.commitment))}}catch(O){m.e(O)}finally{m.f()}var S,x=xe(i);try{for(x.s();!(S=x.n()).done;){var I=S.value,_=this._rootSubscriptions[I];this._subscribe(_,"rootSubscribe",[])}}catch(O){x.e(O)}finally{x.f()}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((function(){e._rpcWebSocketIdleTimeout=null,e._rpcWebSocket.close()}),500))}},{key:"_wsOnAccountNotification",value:function(t){var r=ot(t);if(r.error)throw new Error("account notification failed: "+r.error.message);O()("undefined"!==typeof r.result);var n,a=xe(Object.keys(this._accountChangeSubscriptions).map(Number));try{for(a.s();!(n=a.n()).done;){var i=n.value,u=this._accountChangeSubscriptions[i];if(u.subscriptionId===r.subscription){var s=r.result,o=s.value,c=s.context;return O()("base64"===o.data[1]),u.callback({executable:o.executable,owner:new F(o.owner),lamports:o.lamports,data:e.from(o.data[0],"base64")},c),!0}}}catch(l){a.e(l)}finally{a.f()}}},{key:"onAccountChange",value:function(e,t,r){var n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}},{key:"removeAccountChangeListener",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._accountChangeSubscriptions[t]){e.next=8;break}return r=this._accountChangeSubscriptions[t],delete this._accountChangeSubscriptions[t],e.next=5,this._unsubscribe(r,"accountUnsubscribe");case 5:this._updateSubscriptions(),e.next=9;break;case 8:throw new Error("Unknown account change id: ".concat(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wsOnProgramAccountNotification",value:function(t){var r=pt(t);if(r.error)throw new Error("program account notification failed: "+r.error.message);O()("undefined"!==typeof r.result);var n,a=xe(Object.keys(this._programAccountChangeSubscriptions).map(Number));try{for(a.s();!(n=a.n()).done;){var i=n.value,u=this._programAccountChangeSubscriptions[i];if(u.subscriptionId===r.subscription){var s=r.result,o=s.value,c=s.context;return O()("base64"===o.account.data[1]),u.callback({accountId:o.pubkey,accountInfo:{executable:o.account.executable,owner:new F(o.account.owner),lamports:o.account.lamports,data:e.from(o.account.data[0],"base64")}},c),!0}}}catch(l){a.e(l)}finally{a.f()}}},{key:"onProgramAccountChange",value:function(e,t,r){var n=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[n]={programId:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}},{key:"removeProgramAccountChangeListener",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._programAccountChangeSubscriptions[t]){e.next=8;break}return r=this._programAccountChangeSubscriptions[t],delete this._programAccountChangeSubscriptions[t],e.next=5,this._unsubscribe(r,"programUnsubscribe");case 5:this._updateSubscriptions(),e.next=9;break;case 8:throw new Error("Unknown program account change id: ".concat(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wsOnSlotNotification",value:function(e){var t=dt(e);if(t.error)throw new Error("slot notification failed: "+t.error.message);O()("undefined"!==typeof t.result);var r,n=t.result,a=n.parent,i=n.slot,u=n.root,s=xe(Object.keys(this._slotSubscriptions).map(Number));try{for(s.s();!(r=s.n()).done;){var o=r.value,c=this._slotSubscriptions[o];if(c.subscriptionId===t.subscription)return c.callback({parent:a,slot:i,root:u}),!0}}catch(l){s.e(l)}finally{s.f()}}},{key:"onSlotChange",value:function(e){var t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}},{key:"removeSlotChangeListener",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._slotSubscriptions[t]){e.next=8;break}return r=this._slotSubscriptions[t],delete this._slotSubscriptions[t],e.next=5,this._unsubscribe(r,"slotUnsubscribe");case 5:this._updateSubscriptions(),e.next=9;break;case 8:throw new Error("Unknown slot change id: ".concat(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_buildArgs",value:function(e,t,r,n){var a=t||this._commitment;if(a||r||n){var i={};r&&(i.encoding=r),a&&(i.commitment=a),n&&(i=Object.assign(i,n)),e.push(i)}return e}},{key:"_wsOnSignatureNotification",value:function(e){var t=bt(e);if(t.error)throw new Error("signature notification failed: "+t.error.message);O()("undefined"!==typeof t.result);var r,n=xe(Object.keys(this._signatureSubscriptions).map(Number));try{for(n.s();!(r=n.n()).done;){var a=r.value,i=this._signatureSubscriptions[a];if(i.subscriptionId===t.subscription)return delete this._signatureSubscriptions[a],this._updateSubscriptions(),void i.callback(t.result.value,t.result.context)}}catch(u){n.e(u)}finally{n.f()}}},{key:"onSignature",value:function(e,t,r){var n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}},{key:"removeSignatureListener",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._signatureSubscriptions[t]){e.next=8;break}return r=this._signatureSubscriptions[t],delete this._signatureSubscriptions[t],e.next=5,this._unsubscribe(r,"signatureUnsubscribe");case 5:this._updateSubscriptions(),e.next=9;break;case 8:throw new Error("Unknown signature result id: ".concat(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_wsOnRootNotification",value:function(e){var t=ft(e);if(t.error)throw new Error("root notification failed: "+t.error.message);O()("undefined"!==typeof t.result);var r,n=t.result,a=xe(Object.keys(this._rootSubscriptions).map(Number));try{for(a.s();!(r=a.n()).done;){var i=r.value,u=this._rootSubscriptions[i];if(u.subscriptionId===t.subscription)return u.callback(n),!0}}catch(s){a.e(s)}finally{a.f()}}},{key:"onRootChange",value:function(e){var t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}},{key:"removeRootChangeListener",value:function(){var e=b()(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._rootSubscriptions[t]){e.next=8;break}return r=this._rootSubscriptions[t],delete this._rootSubscriptions[t],e.next=5,this._unsubscribe(r,"rootUnsubscribe");case 5:this._updateSubscriptions(),e.next=9;break;case 8:throw new Error("Unknown root change id: ".concat(t));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"commitment",get:function(){return this._commitment}}]),t}();function qt(e,t,r,n){return Lt.apply(this,arguments)}function Lt(){return(Lt=b()(h.a.mark((function e(t,r,n,a){var i,u,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment},e.next=3,t.sendTransaction(r,n,i);case 3:return u=e.sent,e.next=6,t.confirmTransaction(u,a&&a.commitment);case 6:if(!(s=e.sent.value).err){e.next=9;break}throw new Error("Transaction ".concat(u," failed (").concat(JSON.stringify(s),")"));case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(t,r){var n=t.layout.span>=0?t.layout.span:function(e,t){var r=0;return e.layout.fields.forEach((function(e){e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(t,r),a=e.alloc(n),i=Object.assign({instruction:t.index},r);return t.layout.encode(i,a),a}function Ut(e,t){var r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(r.instruction," != ").concat(e.index));return r}var Mt=function(){function e(){a()(this,e)}return u()(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=Object(v.u32)("instruction").decode(e.data),n=0,a=Object.keys(Vt);n<a.length;n++){var i=a[n];Vt[i].index==r&&(t=i)}if(!t)throw new Error("Instruction type incorrect; not a SystemInstruction");return t}},{key:"decodeCreateAccount",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Vt.Create,e.data),r=t.lamports,n=t.space,a=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new F(a)}}},{key:"decodeTransfer",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Vt.Transfer,e.data).lamports;return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}},{key:"decodeTransferWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Ut(Vt.TransferWithSeed,e.data),r=t.lamports,n=t.seed,a=t.programId;return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new F(a)}}},{key:"decodeAllocate",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Ut(Vt.Allocate,e.data).space;return{accountPubkey:e.keys[0].pubkey,space:t}}},{key:"decodeAllocateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Ut(Vt.AllocateWithSeed,e.data),r=t.base,n=t.seed,a=t.space,i=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new F(r),seed:n,space:a,programId:new F(i)}}},{key:"decodeAssign",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Ut(Vt.Assign,e.data).programId;return{accountPubkey:e.keys[0].pubkey,programId:new F(t)}}},{key:"decodeAssignWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);var t=Ut(Vt.AssignWithSeed,e.data),r=t.base,n=t.seed,a=t.programId;return{accountPubkey:e.keys[0].pubkey,basePubkey:new F(r),seed:n,programId:new F(a)}}},{key:"decodeCreateWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Vt.CreateWithSeed,e.data),r=t.base,n=t.seed,a=t.lamports,i=t.space,u=t.programId;return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new F(r),seed:n,lamports:a,space:i,programId:new F(u)}}},{key:"decodeNonceInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Ut(Vt.InitializeNonceAccount,e.data).authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new F(t)}}},{key:"decodeNonceAdvance",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ut(Vt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"decodeNonceWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=Ut(Vt.WithdrawNonceAccount,e.data).lamports;return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}},{key:"decodeNonceAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Vt.AuthorizeNonceAccount,e.data).authorized;return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new F(t)}}},{key:"checkProgramId",value:function(e){if(!e.equals(Ft.programId))throw new Error("invalid instruction; programId is not SystemProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),Vt=Object.freeze({Create:{index:0,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports"),Object(v.ns64)("space"),$("programId")])},Assign:{index:1,layout:Object(v.struct)([Object(v.u32)("instruction"),$("programId")])},Transfer:{index:2,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports")])},CreateWithSeed:{index:3,layout:Object(v.struct)([Object(v.u32)("instruction"),$("base"),Q("seed"),Object(v.ns64)("lamports"),Object(v.ns64)("space"),$("programId")])},AdvanceNonceAccount:{index:4,layout:Object(v.struct)([Object(v.u32)("instruction")])},WithdrawNonceAccount:{index:5,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports")])},InitializeNonceAccount:{index:6,layout:Object(v.struct)([Object(v.u32)("instruction"),$("authorized")])},AuthorizeNonceAccount:{index:7,layout:Object(v.struct)([Object(v.u32)("instruction"),$("authorized")])},Allocate:{index:8,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("space")])},AllocateWithSeed:{index:9,layout:Object(v.struct)([Object(v.u32)("instruction"),$("base"),Q("seed"),Object(v.ns64)("space"),$("programId")])},AssignWithSeed:{index:10,layout:Object(v.struct)([Object(v.u32)("instruction"),$("base"),Q("seed"),$("programId")])},TransferWithSeed:{index:11,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports"),Q("seed"),$("programId")])}}),Ft=function(){function e(){a()(this,e)}return u()(e,null,[{key:"createAccount",value:function(e){var t=Dt(Vt.Create,{lamports:e.lamports,space:e.space,programId:e.programId.toBuffer()});return new oe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;e.basePubkey?(t=Dt(Vt.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:e.programId.toBuffer()}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=Dt(Vt.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;e.basePubkey?(t=Dt(Vt.AssignWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,programId:e.programId.toBuffer()}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Dt(Vt.Assign,{programId:e.programId.toBuffer()}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=Dt(Vt.CreateWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,lamports:e.lamports,space:e.space,programId:e.programId.toBuffer()});return new oe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}],programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new ce;t.basePubkey&&t.seed?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:ke,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:ke,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=Dt(Vt.InitializeNonceAccount,{authorized:e.authorizedPubkey.toBuffer()}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new oe(r)}},{key:"nonceAdvance",value:function(e){var t=Dt(Vt.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new oe(r)}},{key:"nonceWithdraw",value:function(e){var t=Dt(Vt.WithdrawNonceAccount,{lamports:e.lamports});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pe,isSigner:!1,isWritable:!1},{pubkey:he,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=Dt(Vt.AuthorizeNonceAccount,{authorized:e.newAuthorizedPubkey.toBuffer()});return new oe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;e.basePubkey?(t=Dt(Vt.AllocateWithSeed,{base:e.basePubkey.toBuffer(),seed:e.seed,space:e.space,programId:e.programId.toBuffer()}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=Dt(Vt.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new oe({keys:r,programId:this.programId,data:t})}},{key:"programId",get:function(){return new F("11111111111111111111111111111111")}}]),e}(),Yt=function(){function t(){a()(this,t)}return u()(t,null,[{key:"getMinNumSignatures",value:function(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}},{key:"load",value:function(){var r=b()(h.a.mark((function r(n,a,i,u,s){var o,c,l,p,d,b,f,g,y,k,m,w,S,x;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getMinimumBalanceForRentExemption(s.length);case 2:return o=r.sent,r.next=5,n.getAccountInfo(i.publicKey,"singleGossip");case 5:if(c=r.sent,l=null,null===c){r.next=16;break}if(!c.executable){r.next=11;break}return console.error("Program load failed, account is already executable"),r.abrupt("return",!1);case 11:c.data.length!==s.length&&(l=l||new ce).add(Ft.allocate({accountPubkey:i.publicKey,space:s.length})),c.owner.equals(u)||(l=l||new ce).add(Ft.assign({accountPubkey:i.publicKey,programId:u})),c.lamports<o&&(l=l||new ce).add(Ft.transfer({fromPubkey:a.publicKey,toPubkey:i.publicKey,lamports:o-c.lamports})),r.next=17;break;case 16:l=(new ce).add(Ft.createAccount({fromPubkey:a.publicKey,newAccountPubkey:i.publicKey,lamports:o>0?o:1,space:s.length,programId:u}));case 17:if(null===l){r.next=20;break}return r.next=20,qt(n,l,[a,i],{commitment:"singleGossip"});case 20:p=Object(v.struct)([Object(v.u32)("instruction"),Object(v.u32)("offset"),Object(v.u32)("bytesLength"),Object(v.u32)("bytesLengthPadding"),Object(v.seq)(Object(v.u8)("byte"),Object(v.offset)(Object(v.u32)(),-8),"bytes")]),d=t.chunkSize,b=0,f=s,g=[];case 25:if(!(f.length>0)){r.next=39;break}if(y=f.slice(0,d),k=e.alloc(d+16),p.encode({instruction:0,offset:b,bytes:y},k),m=(new ce).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:u,data:k}),g.push(qt(n,m,[a,i],{commitment:"singleGossip"})),!n._rpcEndpoint.includes("solana.com")){r.next=35;break}return 4,r.next=35,ve(250);case 35:b+=d,f=f.slice(d),r.next=25;break;case 39:return r.next=41,Promise.all(g);case 41:return w=Object(v.struct)([Object(v.u32)("instruction")]),S=e.alloc(w.span),w.encode({instruction:1},S),x=(new ce).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1}],programId:u,data:S}),r.next=47,qt(n,x,[a,i],{commitment:"singleGossip"});case 47:return r.abrupt("return",!0);case 48:case"end":return r.stop()}}),r)})));return function(e,t,n,a,i){return r.apply(this,arguments)}}()},{key:"chunkSize",get:function(){return se-300}}]),t}(),Gt=new F("BPFLoader2111111111111111111111111111111111"),Ht=function(){function e(){a()(this,e)}return u()(e,null,[{key:"getMinNumSignatures",value:function(e){return Yt.getMinNumSignatures(e)}},{key:"load",value:function(e,t,r,n,a){return Yt.load(e,t,r,a,n)}}]),e}(),Jt=new F("StakeConfig11111111111111111111111111111111"),Zt=function e(t,r){a()(this,e),o()(this,"staker",void 0),o()(this,"withdrawer",void 0),this.staker=t,this.withdrawer=r},Xt=function e(t,r,n){a()(this,e),o()(this,"unixTimestamp",void 0),o()(this,"epoch",void 0),o()(this,"custodian",void 0),this.unixTimestamp=t,this.epoch=r,this.custodian=n},$t=function(){function e(){a()(this,e)}return u()(e,null,[{key:"decodeInstructionType",value:function(e){this.checkProgramId(e.programId);for(var t,r=Object(v.u32)("instruction").decode(e.data),n=0,a=Object.keys(Qt);n<a.length;n++){var i=a[n];Qt[i].index==r&&(t=i)}if(!t)throw new Error("Instruction type incorrect; not a StakeInstruction");return t}},{key:"decodeInitialize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Qt.Initialize,e.data),r=t.authorized,n=t.lockup;return{stakePubkey:e.keys[0].pubkey,authorized:new Zt(new F(r.staker),new F(r.withdrawer)),lockup:new Xt(n.unixTimestamp,n.epoch,new F(n.custodian))}}},{key:"decodeDelegate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ut(Qt.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}},{key:"decodeAuthorize",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Ut(Qt.Authorize,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,a={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new F(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}},{key:"decodeAuthorizeWithSeed",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);var t=Ut(Qt.AuthorizeWithSeed,e.data),r=t.newAuthorized,n=t.stakeAuthorizationType,a=t.authoritySeed,i=t.authorityOwner,u={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:a,authorityOwner:new F(i),newAuthorizedPubkey:new F(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(u.custodianPubkey=e.keys[3].pubkey),u}},{key:"decodeSplit",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);var t=Ut(Qt.Split,e.data).lamports;return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}},{key:"decodeWithdraw",value:function(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);var t=Ut(Qt.Withdraw,e.data).lamports,r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}},{key:"decodeDeactivate",value:function(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ut(Qt.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}},{key:"checkProgramId",value:function(e){if(!e.equals(tr.programId))throw new Error("invalid instruction; programId is not StakeProgram")}},{key:"checkKeyLength",value:function(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}]),e}(),Qt=Object.freeze({Initialize:{index:0,layout:Object(v.struct)([Object(v.u32)("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Object(v.struct)([$("staker"),$("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Object(v.struct)([Object(v.ns64)("unixTimestamp"),Object(v.ns64)("epoch"),$("custodian")],e)}()])},Authorize:{index:1,layout:Object(v.struct)([Object(v.u32)("instruction"),$("newAuthorized"),Object(v.u32)("stakeAuthorizationType")])},Delegate:{index:2,layout:Object(v.struct)([Object(v.u32)("instruction")])},Split:{index:3,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports")])},Withdraw:{index:4,layout:Object(v.struct)([Object(v.u32)("instruction"),Object(v.ns64)("lamports")])},Deactivate:{index:5,layout:Object(v.struct)([Object(v.u32)("instruction")])},AuthorizeWithSeed:{index:8,layout:Object(v.struct)([Object(v.u32)("instruction"),$("newAuthorized"),Object(v.u32)("stakeAuthorizationType"),Q("authoritySeed"),$("authorityOwner")])}}),er=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),tr=function(){function e(){a()(this,e)}return u()(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup,a=Dt(Qt.Initialize,{authorized:{staker:r.staker.toBuffer(),withdrawer:r.withdrawer.toBuffer()},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:n.custodian.toBuffer()}}),i={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:he,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new oe(i)}},{key:"createAccountWithSeed",value:function(e){var t=new ce;t.add(Ft.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,a=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:a}))}},{key:"createAccount",value:function(e){var t=new ce;t.add(Ft.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,a=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:a}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,a=Dt(Qt.Delegate);return(new ce).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:be,isSigner:!1,isWritable:!1},{pubkey:Jt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,i=e.custodianPubkey,u=Dt(Qt.Authorize,{newAuthorized:n.toBuffer(),stakeAuthorizationType:a.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&s.push({pubkey:i,isSigner:!1,isWritable:!1}),(new ce).add({keys:s,programId:this.programId,data:u})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,a=e.authorityOwner,i=e.newAuthorizedPubkey,u=e.stakeAuthorizationType,s=e.custodianPubkey,o=Dt(Qt.AuthorizeWithSeed,{newAuthorized:i.toBuffer(),stakeAuthorizationType:u.index,authoritySeed:n,authorityOwner:a.toBuffer()}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:le,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!1,isWritable:!1}),(new ce).add({keys:c,programId:this.programId,data:o})}},{key:"split",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,a=e.lamports,i=new ce;i.add(Ft.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));var u=Dt(Qt.Split,{lamports:a});return i.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,a=e.lamports,i=e.custodianPubkey,u=Dt(Qt.Withdraw,{lamports:a}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:be,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&s.push({pubkey:i,isSigner:!1,isWritable:!1}),(new ce).add({keys:s,programId:this.programId,data:u})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=Dt(Qt.Deactivate);return(new ce).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:le,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}},{key:"programId",get:function(){return new F("Stake11111111111111111111111111111111111111")}},{key:"space",get:function(){return 200}}]),e}(),rr=q.a.publicKeyCreate,nr=q.a.ecdsaSign,ar=Object(v.struct)([Object(v.u8)("numSignatures"),Object(v.u16)("signatureOffset"),Object(v.u8)("signatureInstructionIndex"),Object(v.u16)("ethAddressOffset"),Object(v.u8)("ethAddressInstructionIndex"),Object(v.u16)("messageDataOffset"),Object(v.u16)("messageDataSize"),Object(v.u8)("messageInstructionIndex"),Object(v.blob)(20,"ethPublicKey"),Object(v.blob)(64,"signature"),Object(v.u8)("recoveryId")]),ir=function(){function t(){a()(this,t)}return u()(t,null,[{key:"createInstructionWithPublicKey",value:function(r){var n,a=r.publicKey,i=r.message,u=r.signature,s=r.recoveryId;O()(65===a.length,"Public key must be ".concat(65," bytes"));try{n=function(e){return D()("keccak256").update(U(e.slice(1))).digest().slice(-20)}(a)}catch(p){throw new Error("Error constructing ethereum public key: ".concat(p))}var o=12+n.length,c=o+u.length+1,l=e.alloc(ar.span+i.length);return ar.encode({numSignatures:1,signatureOffset:o,signatureInstructionIndex:0,ethAddressOffset:12,ethAddressInstructionIndex:0,messageDataOffset:c,messageDataSize:i.length,messageInstructionIndex:0,signature:U(u),ethPublicKey:n,recoveryId:s},l),l.fill(U(i),ar.span),new oe({keys:[],programId:t.programId,data:l})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message;O()(32===t.length,"Private key must be ".concat(32," bytes"));try{var n=rr(t,!1),a=D()("keccak256").update(U(r)).digest(),i=nr(a,t),u=i.signature,s=i.recid;return this.createInstructionWithPublicKey({publicKey:n,message:r,signature:u,recoveryId:s})}catch(o){throw new Error("Error creating instruction; ".concat(o))}}},{key:"programId",get:function(){return new F("KeccakSecp256k11111111111111111111111111111")}}]),t}();var ur=new F("Va1idator1nfo111111111111111111111111111111"),sr=Object(W.a)({name:"string",website:"string?",details:"string?",keybaseUsername:"string?"}),or=function(){function t(e,r){a()(this,t),o()(this,"key",void 0),o()(this,"info",void 0),this.key=e,this.info=r}return u()(t,null,[{key:"fromConfigData",value:function(r){var n=S()(r);if(2!==ee(n))return null;for(var a=[],i=0;i<2;i++){var u=new F(n.slice(0,32)),s=1===(n=n.slice(32)).slice(0,1)[0];n=n.slice(1),a.push({publicKey:u,isSigner:s})}if(a[0].publicKey.equals(ur)&&a[1].isSigner){var o=Q().decode(e.from(n)),c=sr(JSON.parse(o));return new t(a[1].publicKey,c)}return null}}]),t}(),cr=new F("Vote111111111111111111111111111111111111111"),lr=Object(v.struct)([$("nodePubkey"),$("authorizedVoterPubkey"),$("authorizedWithdrawerPubkey"),Object(v.u8)("commission"),Object(v.nu64)(),Object(v.seq)(Object(v.struct)([Object(v.nu64)("slot"),Object(v.u32)("confirmationCount")]),Object(v.offset)(Object(v.u32)(),-8),"votes"),Object(v.u8)("rootSlotValid"),Object(v.nu64)("rootSlot"),Object(v.nu64)("epoch"),Object(v.nu64)("credits"),Object(v.nu64)("lastEpochCredits"),Object(v.nu64)(),Object(v.seq)(Object(v.struct)([Object(v.nu64)("epoch"),Object(v.nu64)("credits"),Object(v.nu64)("prevCredits")]),Object(v.offset)(Object(v.u32)(),-8),"epochCredits")]),pr=function(){function e(){a()(this,e),o()(this,"nodePubkey",void 0),o()(this,"authorizedVoterPubkey",void 0),o()(this,"authorizedWithdrawerPubkey",void 0),o()(this,"commission",void 0),o()(this,"votes",void 0),o()(this,"rootSlot",void 0),o()(this,"epoch",void 0),o()(this,"credits",void 0),o()(this,"lastEpochCredits",void 0),o()(this,"epochCredits",void 0)}return u()(e,null,[{key:"fromAccountData",value:function(e){var t=lr.decode(U(e),0);return t.nodePubkey=new F(t.nodePubkey),t.authorizedVoterPubkey=new F(t.authorizedVoterPubkey),t.authorizedWithdrawerPubkey=new F(t.authorizedWithdrawerPubkey),t.rootSlotValid||(t.rootSlot=null),t}}]),e}();function hr(e,t,r){return dr.apply(this,arguments)}function dr(){return(dr=b()(h.a.mark((function e(t,r,n){var a,i,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},e.next=3,t.sendRawTransaction(r,a);case 3:return i=e.sent,e.next=6,t.confirmTransaction(i,n&&n.commitment);case 6:if(!(u=e.sent.value).err){e.next=9;break}throw new Error("Raw transaction ".concat(i," failed (").concat(JSON.stringify(u),")"));case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var br={http:{devnet:"http://devnet.solana.com",testnet:"http://testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://devnet.solana.com",testnet:"https://testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function fr(e,t){var r=!1===t?"http":"https";if(!e)return br[r].devnet;var n=br[r][e];if(!n)throw new Error("Unknown ".concat(r," cluster: ").concat(e));return n}var gr=1e9}.call(this,r("HDXh").Buffer)}}]);