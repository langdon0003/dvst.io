_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{0:function(e,t,n){n("74v/"),e.exports=n("nOHt")},"74v/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},cha2:function(e,t,n){"use strict";n.r(t);var r=n("BGKE"),c=n("cpVT"),a=n("g4pe"),o=n.n(a),i=n("sKF2"),s=(n("tW4V"),n("oidH"),n("iOjB"),n("yWle")),l=n("xvhg"),u=n("vJKn"),f=n.n(u),d=n("rg98"),b=n("q1tI"),p=n("9wvH"),m=n("G13b"),h=n("h6q2"),g=n("JPJu"),O=n("DQo9"),j=n("AOFB"),v=n("1Lqs");function w(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){return e.selectedMangoGroup.markets},k=function(e){return e.connection.websocket},S=function(e){return e.selectedMarket.address},_=function(){var e=Object(g.a)((function(e){return e.set})),t=Object(O.a)((function(e){return e.set})),n=Object(g.a)(x),r=Object(g.a)(k),c=Object(g.a)(S),a=Object(g.a)((function(e){return e.actions})),o=Object(h.a)(),i=o.connection,s=o.dexProgramId,u=Object(j.a)().marketList;Object(b.useEffect)((function(){a.fetchAllMangoGroups(),a.fetchMangoGroup()}),[a]),Object(v.a)((function(){a.fetchMangoGroup()}),6e4),Object(b.useEffect)((function(){p.Market.load(i,new m.PublicKey(c),{},new m.PublicKey(s)).then(function(){var t=Object(d.a)(f.a.mark((function t(n){var r,c,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n._decoded.bids,t.next=3,i.getAccountInfo(r);case 3:return c=t.sent,a=n._decoded.asks,t.next=7,i.getAccountInfo(a);case 7:o=t.sent,e((function(e){e.selectedMarket.current=n,e.accountInfos[a.toString()]=o,e.accountInfos[r.toString()]=c}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.log({message:"Error loading market",description:e.message,type:"error"})}))}),[c]),Object(b.useEffect)((function(){Promise.all(u.map((function(e){return p.Market.load(i,e.address,{},e.programId)}))).then((function(t){e((function(e){e.selectedMarket.current=t[0],t.forEach((function(t){e.selectedMangoGroup.markets[t.publicKey.toString()]=t;var n=t._decoded.bids.toString();n in e.accountInfos||(e.accountInfos[n]=null);var r=t._decoded.asks.toString();r in e.accountInfos||(e.accountInfos[r]=null)}))}))}))}),[u]),Object(b.useEffect)((function(){var t=Object.entries(n).map((function(t){var n=Object(l.a)(t,2)[1],c=null,a=null;return[r.onAccountChange(n._decoded.bids,(function(t){c&&c.data.equals(t.data)&&c.lamports===t.lamports||(c=t,e((function(e){var t=n._decoded.bids.toString();e.accountInfos[t]=c})))})),r.onAccountChange(n._decoded.asks,(function(t){a&&a.data.equals(t.data)&&a.lamports===t.lamports||(a=t,e((function(e){var t=n._decoded.asks.toString();e.accountInfos[t]=a})))}))]}));return console.log("subscription ids",t),function(){var e,n=w(t.flat());try{for(n.s();!(e=n.n()).done;){var c=e.value;r.removeAccountChangeListener(c)}}catch(a){n.e(a)}finally{n.f()}}}),[n]),Object(v.a)((function(){function e(){return(e=Object(d.a)(f.a.mark((function e(){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=g.a.getState().selectedMarket.current)&&i){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,n.loadFills(i,1e4);case 6:r=e.sent,t((function(e){e.fills=r})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error fetching fills:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),6e4)},N=n("z7pX"),E=n("+OAm"),I=function(e){var t=e.type,n=e.message,c=e.description,a=e.txid,o=Object(b.useState)(!0),i=o[0],s=o[1];return i?Object(r.b)("div",{className:"max-w-sm w-full bg-th-bkg-3 shadow-lg rounded-md mt-2 pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden",children:Object(r.b)("div",{className:"p-4",children:Object(r.c)("div",{className:"flex items-center",children:[Object(r.c)("div",{className:"flex-shrink-0",children:["success"===t?Object(r.b)(E.c,{className:"text-th-green h-9 w-9 mr-1"}):null,"info"===t&&Object(r.b)(E.u,{className:"text-th-primary h-9 w-9 mr-1"}),"error"===t&&Object(r.b)(E.k,{className:"text-th-red h-9 w-9 mr-1"})]}),Object(r.c)("div",{className:"ml-2 w-0 flex-1",children:[Object(r.b)("div",{className:"text-lg text-th-fgd-1",children:n}),c?Object(r.b)("p",{className:"mt-0.5 text-base text-th-fgd-2",children:c}):null,a?Object(r.c)("a",{href:"https://explorer.solana.com/tx/"+a,className:"text-th-primary",children:["View transaction ",a.slice(0,8),"...",a.slice(a.length-8)]}):null]}),Object(r.b)("div",{className:"ml-4 flex-shrink-0 self-start flex",children:Object(r.c)("button",{onClick:function(){return s(!1)},className:"bg-th-bkg-3 rounded-md inline-flex text-fgd-3 hover:text-th-fgd-4 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-th-primary",children:[Object(r.b)("span",{className:"sr-only",children:"Close"}),Object(r.b)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(r.b)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}):null},D=function(){var e=Object(g.a)((function(e){return e.set})),t=Object(g.a)((function(e){return e.notifications}));Object(b.useEffect)((function(){if(t.length>0){var n=setInterval((function(){e((function(e){e.notifications=t.slice(1,t.length)}))}),5e3);return function(){clearInterval(n)}}}),[t,e]);var n=Object(N.a)(t).reverse();return Object(r.b)("div",{className:"fixed inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 text-th-fgd-1 z-50",children:Object(r.b)("div",{className:"flex flex-col w-full",children:n.map((function(e,t){return Object(r.b)(I,{type:e.type,message:e.message,description:e.description,txid:e.txid},"".concat(e.message).concat(t))}))})})};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return _(),Object(s.c)(),Object(r.c)(r.a,{children:[Object(r.c)(o.a,{children:[Object(r.b)("title",{children:"DVST"}),Object(r.b)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(r.b)("link",{href:"https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",rel:"stylesheet"}),Object(r.b)("link",{rel:"icon",href:"/favicon.ico"}),Object(r.b)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),Object(r.b)("meta",{name:"keywords",content:"DVST, Serum, SRM, Serum DEX, DEFI, Decentralized Finance, Decentralised Finance, Crypto, ERC20, Ethereum, Decentralize, Solana, SOL, SPL, Cross-Chain, Trading, Fastest, Fast, SerumBTC, SerumUSD, SRM Tokens, SPL Tokens"}),Object(r.b)("meta",{name:"description",content:"DVST - Decentralised, cross-margin trading up to 5x leverage with lightning speed and near-zero fees powered by Serum."}),Object(r.b)("link",{rel:"apple-touch-icon",href:"/apple-touch-icon.png"}),Object(r.b)("meta",{name:"msapplication-TileColor",content:"#da532c"}),Object(r.b)("meta",{name:"theme-color",content:"#ffffff"}),Object(r.b)("meta",{name:"twitter:card",content:"summary_large_image"}),Object(r.b)("meta",{name:"twitter:title",content:"DVST"}),Object(r.b)("meta",{name:"twitter:description",content:"DVST - Decentralised, cross-margin trading up to 5x leverage with lightning speed and near-zero fees powered by Serum."}),Object(r.b)("meta",{name:"twitter:image",content:"/twitter-image.png"}),Object(r.b)("script",{src:"/datafeeds/udf/dist/polyfills.js"}),Object(r.b)("script",{src:"/datafeeds/udf/dist/bundle.js"}),Object(r.b)("link",{rel:"manifest",href:"/manifest.json"})]}),Object(r.c)(i.a,{defaultTheme:"Mango",children:[Object(r.b)(t,M({},n)),Object(r.b)(D,{})]})]})}},iOjB:function(e,t,n){},oidH:function(e,t,n){},tW4V:function(e,t,n){}},[[0,1,2,3,4,0,5]]]);